/*
 //
// BEGIN SONGBIRD GPL
// 
// This file is part of the Songbird web player.
//
// Copyright(c) 2005-2009 POTI, Inc.
// http://songbirdnest.com
// 
// This file may be licensed under the terms of of the
// GNU General Public License Version 2 (the �GPL�).
// 
// Software distributed under the License is distributed 
// on an �AS IS� basis, WITHOUT WARRANTY OF ANY KIND, either 
// express or implied. See the GPL for the specific language 
// governing rights and limitations.
//
// You should have received a copy of the GPL along with this 
// program. If not, go to http://www.gnu.org/licenses/gpl.html
// or write to the Free Software Foundation, Inc., 
// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
// 
// END SONGBIRD GPL
//
 */
/**
 * \file sbIGStreamerTranscode.idl
 * 
 */
#include "nsISupports.idl"
#include "sbIPropertyArray.idl"

/**
 * \interface sbIGStreamerTranscode
 */
[scriptable, uuid(b6b6719b-693a-40be-80d1-562e1ea2a6a1)]
interface sbIGStreamerTranscode : nsISupports
{
  attribute AString sourceURI; // The source URI to transcode from
  attribute AString destURI;   // Destination URI to write to

  /* String describing the gstreamer transcode pipeline. 
     This uses the gst-launch syntax to build the section of the pipeline
     that receives decoded audio, and directs it to a sink.
     e.g. "vorbisenc quality=0.2 ! oggmux"

     TODO: document this in more detail.
   */
  attribute AString transcodePipeline; 

  /* Metadata to set on the transcoded file. 

     Metadata items passed here will replace those found in the source
     stream. Items NOT in this array, but in the source stream, will be
     preserved.
   */
  attribute sbIPropertyArray metadata; 
};

%{C++
// {67623837-fea5-4005-b475-e34b738635c4}
#define SB_GSTREAMER_TRANSCODE_CID \
	{ 0x67623837, 0xfea5, 0x4005, \
	{ 0xb4, 0x75, 0xe3, 0x4b, 0x73, 0x86, 0x35, 0xc4 } }

#define SB_GSTREAMER_TRANSCODE_CONTRACTID "@songbirdnest.com/Songbird/Playback/GStreamer/Transcode;1"
#define SB_GSTREAMER_TRANSCODE_CLASSNAME  "GStreamerTranscode"
%}

