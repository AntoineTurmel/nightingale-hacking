<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<META NAME="GENERATOR" CONTENT="lxr-1998-06-10: http://lxr.linux.no">
<title>seamonkey mozilla/build/autoconf/mozconfig2client-mk</title>
<link rel='stylesheet' title='' href='http://mxr.mozilla.org/seamonkey/style/style.css' type='text/css'>
</head>

<BODY   BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#0000EE" VLINK="#551A8B" ALINK="#FF0000">

<TABLE class=banner BGCOLOR="#000000" WIDTH="100%" BORDER=0 CELLPADDING=0 CELLSPACING=0>
<TR><TD><A HREF="http://www.mozilla.org/"><IMG
 SRC="http://www.mozilla.org/images/mozilla-banner.gif" ALT=""
 BORDER=0 WIDTH=600 HEIGHT=58></A></TD></TR></TABLE>

<TABLE class=header BORDER=0 CELLPADDING=12 CELLSPACING=0 WIDTH="100%">
 <TR>
  <TD ALIGN=LEFT VALIGN=MIDDLE>
   <nobr><font size="+2"><b><a href="http://mxr.mozilla.org">Mozilla Cross Reference</a></b>
</nobr><i><a href="http://mxr.mozilla.org/seamonkey">seamonkey</a></i>
</font>
   <BR><B><a href="/seamonkey/source/">mozilla</a>/ <a href="/seamonkey/source/build/">build</a>/ <a href="/seamonkey/source/build/autoconf/">autoconf</a>/ <a href="/seamonkey/source/build/autoconf/mozconfig2client-mk">mozconfig2client-mk</a> </B>
  </TD>

  <TD ALIGN=RIGHT VALIGN=TOP WIDTH="1%">
   <TABLE BORDER CELLPADDING=12 CELLSPACING=0>
    <TR>
     <TD NOWRAP BGCOLOR="#FAFAFA">

      <A HREF="http://bonsai.mozilla.org/cvslog.cgi?file=/mozilla/build/autoconf/mozconfig2client-mk&amp;rev=HEAD&amp;mark=1.8">CVS Log</A><BR>
      <A HREF="http://bonsai.mozilla.org/cvsblame.cgi?file=/mozilla/build/autoconf/mozconfig2client-mk&amp;rev=1.8">CVS Blame</A><BR>
      <A HREF="http://bonsai.mozilla.org/cvsgraph.cgi?file=/mozilla/build/autoconf/mozconfig2client-mk&amp;rev=1.8">CVS Graph</A><BR>


<!--

      <A HREF="http://error.trac-not-found.tld/ /log//mozconfig2client-mk">SVN Log</A><BR>
      <A HREF="http://error.trac-not-found.tld/ /browser//mozconfig2client-mk">SVN View</A><BR>

-->

      <A HREF="http://mxr.mozilla.org/seamonkey/source/build/autoconf/mozconfig2client-mk?raw=1">Raw file</A><BR>
     </TD>
    </TR>
   </TABLE>
  </TD>


  <TD ALIGN=RIGHT VALIGN=TOP WIDTH="1%">
   <TABLE BORDER CELLPADDING=6 CELLSPACING=0>
    <TR>
     <TD BGCOLOR="#FAFAFA">
      <TABLE BORDER=0 CELLPADDING=6 CELLSPACING=0>
       <TR>
        <TD NOWRAP ALIGN=LEFT>
         changes to<BR>this file in<BR>the last:
        </TD>
        <TD NOWRAP>
         <A HREF="http://bonsai.mozilla.org/cvsquery.cgi?branch=HEAD&amp;file=/mozilla/build/autoconf/mozconfig2client-mk&amp;date=day">day</A><BR>
         <A HREF="http://bonsai.mozilla.org/cvsquery.cgi?branch=HEAD&amp;file=/mozilla/build/autoconf/mozconfig2client-mk&amp;date=week">week</A><BR>
         <A HREF="http://bonsai.mozilla.org/cvsquery.cgi?branch=HEAD&amp;file=/mozilla/build/autoconf/mozconfig2client-mk&amp;date=month">month</A><BR>
        </TD>
       </TR>
      </TABLE>
     </TD>
    </TR>
   </TABLE>
  </TD>


 </TR>
</TABLE>
<pre lang='en'><span class=line>   <a name=1 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#1">1</a> </span>#! /bin/sh
<span class=line>   <a name=2 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#2">2</a> </span>#
<span class=line>   <a name=3 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#3">3</a> </span># ***** BEGIN LICENSE BLOCK *****
<span class=line>   <a name=4 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#4">4</a> </span># Version: MPL 1.1/GPL 2.0/LGPL 2.1
<span class=line>   <a name=5 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#5">5</a> </span>#
<span class=line>   <a name=6 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#6">6</a> </span># The contents of this file are subject to the Mozilla Public License Version
<span class=line>   <a name=7 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#7">7</a> </span># 1.1 (the "License"); you may not use this file except in compliance with
<span class=line>   <a name=8 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#8">8</a> </span># the License. You may obtain a copy of the License at
<span class=line>   <a name=9 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#9">9</a> </span># <a href="http://www.mozilla.org/MPL/">http://www.mozilla.org/MPL/</a>
<span class=line>  <a name=10 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#10">10</a> </span>#
<span class=line>  <a name=11 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#11">11</a> </span># Software distributed under the License is distributed on an "AS IS" basis,
<span class=line>  <a name=12 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#12">12</a> </span># WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
<span class=line>  <a name=13 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#13">13</a> </span># for the specific language governing rights and limitations under the
<span class=line>  <a name=14 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#14">14</a> </span># License.
<span class=line>  <a name=15 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#15">15</a> </span>#
<span class=line>  <a name=16 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#16">16</a> </span># The Original Code is mozilla.org code.
<span class=line>  <a name=17 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#17">17</a> </span>#
<span class=line>  <a name=18 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#18">18</a> </span># The Initial Developer of the Original Code is
<span class=line>  <a name=19 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#19">19</a> </span># Netscape Communications Corporation.
<span class=line>  <a name=20 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#20">20</a> </span># Portions created by the Initial Developer are Copyright (C) 1999
<span class=line>  <a name=21 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#21">21</a> </span># the Initial Developer. All Rights Reserved.
<span class=line>  <a name=22 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#22">22</a> </span>#
<span class=line>  <a name=23 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#23">23</a> </span># Contributor(s):
<span class=line>  <a name=24 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#24">24</a> </span>#   Stephen Lamm &lt;slamm@netscape.com&gt;
<span class=line>  <a name=25 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#25">25</a> </span>#
<span class=line>  <a name=26 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#26">26</a> </span># Alternatively, the contents of this file may be used under the terms of
<span class=line>  <a name=27 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#27">27</a> </span># either of the GNU General Public License Version 2 or later (the "GPL"),
<span class=line>  <a name=28 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#28">28</a> </span># or the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
<span class=line>  <a name=29 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#29">29</a> </span># in which case the provisions of the GPL or the LGPL are applicable instead
<span class=line>  <a name=30 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#30">30</a> </span># of those above. If you wish to allow use of your version of this file only
<span class=line>  <a name=31 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#31">31</a> </span># under the terms of either the GPL or the LGPL, and not to allow others to
<span class=line>  <a name=32 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#32">32</a> </span># use your version of this file under the terms of the MPL, indicate your
<span class=line>  <a name=33 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#33">33</a> </span># decision by deleting the provisions above and replace them with the notice
<span class=line>  <a name=34 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#34">34</a> </span># and other provisions required by the GPL or the LGPL. If you do not delete
<span class=line>  <a name=35 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#35">35</a> </span># the provisions above, a recipient may use your version of this file under
<span class=line>  <a name=36 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#36">36</a> </span># the terms of any one of the MPL, the GPL or the LGPL.
<span class=line>  <a name=37 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#37">37</a> </span>#
<span class=line>  <a name=38 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#38">38</a> </span># ***** END LICENSE BLOCK *****
<span class=line>  <a name=39 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#39">39</a> </span>
<span class=line>  <a name=40 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#40">40</a> </span># mozconfig2client-mk - Translates .mozconfig into options for client.mk.
<span class=line>  <a name=41 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#41">41</a> </span>#    Prints defines to stdout.
<span class=line>  <a name=42 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#42">42</a> </span>#
<span class=line>  <a name=43 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#43">43</a> </span># See mozconfig2configure for more details
<span class=line>  <a name=44 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#44">44</a> </span>
<span class=line>  <a name=45 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#45">45</a> </span>print_header() {
<span class=line>  <a name=46 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#46">46</a> </span>  _mozconfig=${MOZCONFIG:-$HOME/.mozconfig}
<span class=line>  <a name=47 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#47">47</a> </span>  cat &gt;&gt; $tmp_file &lt;&lt;EOF
<span class=line>  <a name=48 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#48">48</a> </span># gmake
<span class=line>  <a name=49 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#49">49</a> </span># This file is automatically generated for client.mk.
<span class=line>  <a name=50 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#50">50</a> </span># Do not edit. Edit $_mozconfig instead.
<span class=line>  <a name=51 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#51">51</a> </span># To create a new .mozconfig file, you can visit,
<span class=line>  <a name=52 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#52">52</a> </span>#   <a href="http://webtools.mozilla.org/build/config.cgi">http://webtools.mozilla.org/build/config.cgi</a>
<span class=line>  <a name=53 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#53">53</a> </span>
<span class=line>  <a name=54 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#54">54</a> </span>EOF
<span class=line>  <a name=55 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#55">55</a> </span>}
<span class=line>  <a name=56 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#56">56</a> </span>
<span class=line>  <a name=57 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#57">57</a> </span>ac_add_options() {
<span class=line>  <a name=58 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#58">58</a> </span>  echo "# $* is used by configure (not client.mk)" &gt;&gt; $tmp_file
<span class=line>  <a name=59 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#59">59</a> </span>}
<span class=line>  <a name=60 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#60">60</a> </span>
<span class=line>  <a name=61 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#61">61</a> </span>ac_add_app_options() {
<span class=line>  <a name=62 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#62">62</a> </span>  echo "# $* is used by configure (not client.mk)" &gt;&gt; $tmp_file
<span class=line>  <a name=63 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#63">63</a> </span>}
<span class=line>  <a name=64 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#64">64</a> </span>
<span class=line>  <a name=65 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#65">65</a> </span>mk_add_options() {
<span class=line>  <a name=66 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#66">66</a> </span>  for _opt
<span class=line>  <a name=67 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#67">67</a> </span>  do
<span class=line>  <a name=68 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#68">68</a> </span>    # Escape shell characters, space, tab, dollar, quote, backslash,
<span class=line>  <a name=69 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#69">69</a> </span>    # and substitute '@&lt;word&gt;@' with '$(&lt;word&gt;)'.
<span class=line>  <a name=70 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#70">70</a> </span>    _opt=`echo "$_opt" | sed -e 's/\([\"\\]\)/\\\1/g; s/@\<a href="mailto:[^@]*\">([^@]*\)</a>@/\$(\1)/g;'`
<span class=line>  <a name=71 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#71">71</a> </span>    echo $_opt;
<span class=line>  <a name=72 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#72">72</a> </span>    opts="${opts:+$opts^}$_opt";
<span class=line>  <a name=73 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#73">73</a> </span>  done &gt;&gt; $tmp_file
<span class=line>  <a name=74 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#74">74</a> </span>}
<span class=line>  <a name=75 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#75">75</a> </span>
<span class=line>  <a name=76 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#76">76</a> </span>mk_echo_options() {
<span class=line>  <a name=77 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#77">77</a> </span>  echo "Adding client.mk options from $MOZCONFIG:"
<span class=line>  <a name=78 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#78">78</a> </span>  IFS=^
<span class=line>  <a name=79 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#79">79</a> </span>  for _opt in $opts; do
<span class=line>  <a name=80 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#80">80</a> </span>    echo "    $_opt"
<span class=line>  <a name=81 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#81">81</a> </span>  done
<span class=line>  <a name=82 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#82">82</a> </span>}
<span class=line>  <a name=83 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#83">83</a> </span>
<span class=line>  <a name=84 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#84">84</a> </span># Main
<span class=line>  <a name=85 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#85">85</a> </span>#--------------------------------------------------
<span class=line>  <a name=86 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#86">86</a> </span>
<span class=line>  <a name=87 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#87">87</a> </span>scriptdir=`dirname $0`
<span class=line>  <a name=88 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#88">88</a> </span>topsrcdir=$1
<span class=line>  <a name=89 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#89">89</a> </span>out_file=$2
<span class=line>  <a name=90 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#90">90</a> </span>tmp_file="$out_file-tmp$$"
<span class=line>  <a name=91 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#91">91</a> </span>opts=""
<span class=line>  <a name=92 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#92">92</a> </span>
<span class=line>  <a name=93 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#93">93</a> </span>trap "rm -f $tmp_file; exit 1" 1 2 15
<span class=line>  <a name=94 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#94">94</a> </span>
<span class=line>  <a name=95 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#95">95</a> </span>MOZCONFIG=`$scriptdir/mozconfig-find $topsrcdir`
<span class=line>  <a name=96 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#96">96</a> </span>
<span class=line>  <a name=97 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#97">97</a> </span>print_header &gt; $tmp_file
<span class=line>  <a name=98 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#98">98</a> </span>
<span class=line>  <a name=99 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#99">99</a> </span># If the path changes, configure should be rerun
<span class=line> <a name=100 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#100">100</a> </span>echo "# PATH=$PATH" &gt;&gt; $tmp_file
<span class=line> <a name=101 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#101">101</a> </span>
<span class=line> <a name=102 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#102">102</a> </span>if [ "$MOZCONFIG" ]
<span class=line> <a name=103 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#103">103</a> </span>then
<span class=line> <a name=104 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#104">104</a> </span>  . "$MOZCONFIG"
<span class=line> <a name=105 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#105">105</a> </span>fi
<span class=line> <a name=106 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#106">106</a> </span>
<span class=line> <a name=107 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#107">107</a> </span>if [ "$opts" ]; then
<span class=line> <a name=108 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#108">108</a> </span>  mk_echo_options
<span class=line> <a name=109 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#109">109</a> </span>fi
<span class=line> <a name=110 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#110">110</a> </span>
<span class=line> <a name=111 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#111">111</a> </span>if test -f $out_file &amp;&amp; cmp -s $tmp_file $out_file; then
<span class=line> <a name=112 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#112">112</a> </span>  rm $tmp_file
<span class=line> <a name=113 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#113">113</a> </span>else
<span class=line> <a name=114 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#114">114</a> </span>  mv -f $tmp_file $out_file
<span class=line> <a name=115 href="/seamonkey/source/build/autoconf/mozconfig2client-mk#115">115</a> </span>fi
</pre><p class=footer>
   This page was automatically generated by 
   <a href="http://lxr.mozilla.org/mozilla/source/webtools/lxr/">MXR</a>.
</p>
</html>
