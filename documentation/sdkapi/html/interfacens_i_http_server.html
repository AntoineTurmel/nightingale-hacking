<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Songbird: File Index</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">

<style type="text/css" media="screen">
	#sb_header {
		font-size:11px;
		background-color:rgb(0,0,0);
		color:rgb(200,200,200);
		padding:6px 0px 7px 0px;
		line-height:16px;
		position:absolute;
		top:0;
		left:0;
		width:100%;
		font-family:georgia, serif;
		height:17px;
	}
	#sb_header a,
	#sb_header a:link {
	    text-decoration: underline;
		color:rgb(255,255,255);
	}
	#sb_header a:visited{
	}
	#sb_header a:hover{
		text-decoration: none;
		background-color:transparent ! important;
	}
	#sb_header img {
		border:none;
		vertical-align:middle;
		margin:0 10px 0 12px;
	}
	
	body {
		padding-top:32px;
	}
</style>
<!--[if IE]>

<style type="text/css">

#sb_header {
  width:expression(document.body.clientWidth);
  position:absolute;
}

</style>

<![endif]-->
</head>

<body>
<div id="sb_header"><a href="http://www.songbirdnest.com" class="sb_logo" target="_top"><img src="sb_logo_doc.gif" alt="Songbird logo" /></a><a href="http://www.songbirdnest.com" target="_top">Songbird</a> / <a href="http://developer.songbirdnest.com"  target="_top">Development</a> / Songbird Add-Ons <acronym title="Application Program Interface">API</acronym> Documentation</div>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>nsIHttpServer Interface Reference</h1><!-- doxytag: class="nsIHttpServer" -->An interface that represents an HTTP server. Currently only used by the testharness. (HINT HINT!!!!).  
<a href="#_details">More...</a>
<p>
<code>import &quot;<a class="el" href="ns_i_http_server_8idl-source.html">nsIHttpServer.idl</a>&quot;;</code>
<p>
<a href="interfacens_i_http_server-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacens_i_http_server.html#46ea1853a6f4407e3dea33d2533df2fe">start</a> (in long port)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacens_i_http_server.html#7b4bcc5fc21dd816c55e3ec269c0607d">stop</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacens_i_http_server.html#21b8c9c096d20aa0260e4bc78add207c">registerFile</a> (in string path, in nsILocalFile file)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacens_i_http_server.html#81fc7e7e29d82aac5ce7d56d0bedfb3a">registerPathHandler</a> (in string path, in <a class="el" href="interfacens_i_http_request_handler.html">nsIHttpRequestHandler</a> handler)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacens_i_http_server.html#cf0bafe1ec3b320e1042b4cfbc8ca453">registerErrorHandler</a> (in unsigned long code, in <a class="el" href="interfacens_i_http_request_handler.html">nsIHttpRequestHandler</a> handler)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacens_i_http_server.html#f246cfd2ee2a08aa002e1e06d3258c53">registerDirectory</a> (in string path, in nsILocalFile dir)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacens_i_http_server.html#9f927a8539ccb50040a9ee9ac3f5a353">setIndexHandler</a> (in <a class="el" href="interfacens_i_http_request_handler.html">nsIHttpRequestHandler</a> handler)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
An interface that represents an HTTP server. Currently only used by the testharness. (HINT HINT!!!!). 
<p>

<p>
Definition at line <a class="el" href="ns_i_http_server_8idl-source.html#l00056">56</a> of file <a class="el" href="ns_i_http_server_8idl-source.html">nsIHttpServer.idl</a>.<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="46ea1853a6f4407e3dea33d2533df2fe"></a><!-- doxytag: member="nsIHttpServer::start" ref="46ea1853a6f4407e3dea33d2533df2fe" args="(in long port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nsIHttpServer::start           </td>
          <td>(</td>
          <td class="paramtype">in long&nbsp;</td>
          <td class="paramname"> <em>port</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Starts up this server, listening upon the given port. This method may throw if the process does not have sufficient privileges to open a socket for the given port, and it also throws when called upon a server which has already been started.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>the port upon which listening should happen, or -1 if no specific port is desired </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="7b4bcc5fc21dd816c55e3ec269c0607d"></a><!-- doxytag: member="nsIHttpServer::stop" ref="7b4bcc5fc21dd816c55e3ec269c0607d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nsIHttpServer::stop           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Shuts down this server if it is running; if it is not, this method is a no-op.<p>
This method will do its best to return after the socket in this server has been closed and all pending requests have completed being served, but this may or may not actually happen, since in some implementations this may not actually be possible. Implementations which can make this promise should make it explicit in implementation documentation. 
</div>
</div><p>
<a class="anchor" name="21b8c9c096d20aa0260e4bc78add207c"></a><!-- doxytag: member="nsIHttpServer::registerFile" ref="21b8c9c096d20aa0260e4bc78add207c" args="(in string path, in nsILocalFile file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nsIHttpServer::registerFile           </td>
          <td>(</td>
          <td class="paramtype">in string&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in nsILocalFile&nbsp;</td>
          <td class="paramname"> <em>file</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Associates the local file represented by the string file with all requests which match request.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>the path which is to be mapped to the given file; must begin with "/" and be a valid URI path (i.e., no query string, hash reference, etc.) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>the file to serve for the given path; this file must exist for the lifetime of the server </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="81fc7e7e29d82aac5ce7d56d0bedfb3a"></a><!-- doxytag: member="nsIHttpServer::registerPathHandler" ref="81fc7e7e29d82aac5ce7d56d0bedfb3a" args="(in string path, in nsIHttpRequestHandler handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nsIHttpServer::registerPathHandler           </td>
          <td>(</td>
          <td class="paramtype">in string&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in <a class="el" href="interfacens_i_http_request_handler.html">nsIHttpRequestHandler</a>&nbsp;</td>
          <td class="paramname"> <em>handler</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers a custom path handler.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>the path on the server (beginning with a "/") which is to be handled by handler; this path must not include a query string or hash component; it also should usually be canonicalized, since most browsers will do so before sending otherwise-matching requests </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>an object which will handle any requests for the given path, or null to remove any existing handler; if while the server is running the handler throws an exception while responding to a request, an HTTP 500 response will be returned </td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>NS_ERROR_INVALID_ARG</em>&nbsp;</td><td>if path does not begin with a "/" </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="cf0bafe1ec3b320e1042b4cfbc8ca453"></a><!-- doxytag: member="nsIHttpServer::registerErrorHandler" ref="cf0bafe1ec3b320e1042b4cfbc8ca453" args="(in unsigned long code, in nsIHttpRequestHandler handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nsIHttpServer::registerErrorHandler           </td>
          <td>(</td>
          <td class="paramtype">in unsigned long&nbsp;</td>
          <td class="paramname"> <em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in <a class="el" href="interfacens_i_http_request_handler.html">nsIHttpRequestHandler</a>&nbsp;</td>
          <td class="paramname"> <em>handler</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers a custom error page handler.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>the error code which is to be handled by handler </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>an object which will handle any requests which generate the given status code, or null to remove any existing handler. If the handler throws an exception during server operation, fallback is to the genericized error handler (the x00 version), then to 500, using a user-defined error handler if one exists or the server default handler otherwise. Fallback will never occur from a user-provided handler that throws to the same handler as provided by the server, e.g. a throwing user 404 falls back to 400, not a server-provided 400 that might not throw. </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>If the error handler handles HTTP 500 and throws, behavior is undefined. </dd></dl>

</div>
</div><p>
<a class="anchor" name="f246cfd2ee2a08aa002e1e06d3258c53"></a><!-- doxytag: member="nsIHttpServer::registerDirectory" ref="f246cfd2ee2a08aa002e1e06d3258c53" args="(in string path, in nsILocalFile dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nsIHttpServer::registerDirectory           </td>
          <td>(</td>
          <td class="paramtype">in string&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in nsILocalFile&nbsp;</td>
          <td class="paramname"> <em>dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Maps all requests to paths beneath path to the corresponding file beneath dir.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>the absolute path on the server against which requests will be served from dir (e.g., "/", "/foo/", etc.); must begin and end with a forward slash </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dir</em>&nbsp;</td><td>the directory to be used to serve all requests for paths underneath path (except those further overridden by another, deeper path registered with another directory); if null, any current mapping for the given path is removed </td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>NS_ERROR_INVALID_ARG</em>&nbsp;</td><td>if dir is non-null and does not exist or is not a directory, or if path does not begin with and end with a forward slash </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="9f927a8539ccb50040a9ee9ac3f5a353"></a><!-- doxytag: member="nsIHttpServer::setIndexHandler" ref="9f927a8539ccb50040a9ee9ac3f5a353" args="(in nsIHttpRequestHandler handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nsIHttpServer::setIndexHandler           </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="interfacens_i_http_request_handler.html">nsIHttpRequestHandler</a>&nbsp;</td>
          <td class="paramname"> <em>handler</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the handler used to display the contents of a directory if the directory contains no index page.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>an object which will handle any requests for directories which do not contain index pages, or null to reset to the default index handler; if while the server is running the handler throws an exception while responding to a request, an HTTP 500 response will be returned. An nsIFile corresponding to the directory is available from the metadata object passed to the handler, under the key "directory". </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this interface was generated from the following file:<ul>
<li>components/testharness/public/<a class="el" href="ns_i_http_server_8idl-source.html">nsIHttpServer.idl</a></ul>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Dec 20 16:42:05 2007 for Songbird by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
