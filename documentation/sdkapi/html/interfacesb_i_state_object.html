<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Songbird: sbIStateObject Interface Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>sbIStateObject Interface Reference</h1><!-- doxytag: class="sbIStateObject" -->[UNIMPLEMENTED UNTIL AFTER 0.3]  
<a href="#_details">More...</a>
<p>
<code>import &quot;<a class="el" href="sb_i_state_object_8idl-source.html">sbIStateObject.idl</a>&quot;;</code>
<p>
<a href="interfacesb_i_state_object-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_state_object.html#7cc676d06e1dcc32e2fa57c47c17b70f">initialize</a> (in AString aFullKey, in boolean aCreate, in AString aDatastoreImpl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the state object.  <a href="#7cc676d06e1dcc32e2fa57c47c17b70f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">AString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_state_object.html#537d890e88f681e99b797d901b0aa9ef">getFullKey</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reconstitute the full key for this object.  <a href="#537d890e88f681e99b797d901b0aa9ef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_state_object.html#ad0b630e0221ab986989d501bfc24e69">addObserver</a> (in nsIObserver aObserver)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an observer to this status object.  <a href="#ad0b630e0221ab986989d501bfc24e69"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_state_object.html#2dcef7aecb0e0a5d0f82ceb8e987e79e">removeObserver</a> (in nsIObserver aObserver)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove an observer previously added to this status object.  <a href="#2dcef7aecb0e0a5d0f82ceb8e987e79e"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="db3e9bd5f5af57bfc0493014e810f92d"></a><!-- doxytag: member="sbIStateObject::STATEOBJECT_CREATION_FAILED" ref="db3e9bd5f5af57bfc0493014e810f92d" args="" -->
const unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_state_object.html#db3e9bd5f5af57bfc0493014e810f92d">STATEOBJECT_CREATION_FAILED</a> = 0x800000001</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">State object specific error codes returned by the initialize method. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="58bf8bed69f785e53c97e6d86524b94d"></a><!-- doxytag: member="sbIStateObject::STATEOBJECT_LOADING_FAILED" ref="58bf8bed69f785e53c97e6d86524b94d" args="" -->
const unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_state_object.html#58bf8bed69f785e53c97e6d86524b94d">STATEOBJECT_LOADING_FAILED</a> = 0x800000002</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4021283a74afadb1272d52ce3524a446"></a><!-- doxytag: member="sbIStateObject::STATEOBJECT_CREATED" ref="4021283a74afadb1272d52ce3524a446" args="" -->
const unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_state_object.html#4021283a74afadb1272d52ce3524a446">STATEOBJECT_CREATED</a> = 0x01</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="98043e2caf30c127fd980803df0a2e3c"></a><!-- doxytag: member="sbIStateObject::STATEOBJECT_LOADED" ref="98043e2caf30c127fd980803df0a2e3c" args="" -->
const unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_state_object.html#98043e2caf30c127fd980803df0a2e3c">STATEOBJECT_LOADED</a> = 0x02</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">attribute AString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_state_object.html#a014f9227ed4acb647072301515e100f">key</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The key for this state object.  <a href="#a014f9227ed4acb647072301515e100f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">attribute nsIWritableVariant&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_state_object.html#ccdac5b6c31079813e7d1d0590ba4531">value</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The value of the state object. It is valid to not have a value set.  <a href="#ccdac5b6c31079813e7d1d0590ba4531"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="29c75154f03ec8f0dd27d0a333eed7a3"></a><!-- doxytag: member="sbIStateObject::parent" ref="29c75154f03ec8f0dd27d0a333eed7a3" args="" -->
attribute <a class="el" href="interfacesb_i_state_object.html">sbIStateObject</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_state_object.html#29c75154f03ec8f0dd27d0a333eed7a3">parent</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The parent state object. May be null if this is the root state object. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="523fa55a4c23710db21491556540f290"></a><!-- doxytag: member="sbIStateObject::children" ref="523fa55a4c23710db21491556540f290" args="" -->
attribute nsIWritablePropertyBag2&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacesb_i_state_object.html#523fa55a4c23710db21491556540f290">children</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The children state objects. May be empty if this is a leaf state object. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
[UNIMPLEMENTED UNTIL AFTER 0.3] 
<p>
The state object interface is used to store state with the possibility of persisting the state data through multiple application sessions. The persisted data is automatically loaded and available upon application startup.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="interfacesb_i_state_datastore.html" title="[UNIMPLEMENTED UNTIL AFTER 0.3]">sbIStateDatastore</a> </dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This interface *is* threadsafe. Implementations should follow this assumption. </dd></dl>

<p>

<p>
Definition at line <a class="el" href="sb_i_state_object_8idl-source.html#l00051">51</a> of file <a class="el" href="sb_i_state_object_8idl-source.html">sbIStateObject.idl</a>.<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="7cc676d06e1dcc32e2fa57c47c17b70f"></a><!-- doxytag: member="sbIStateObject::initialize" ref="7cc676d06e1dcc32e2fa57c47c17b70f" args="(in AString aFullKey, in boolean aCreate, in AString aDatastoreImpl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long sbIStateObject::initialize           </td>
          <td>(</td>
          <td class="paramtype">in AString&nbsp;</td>
          <td class="paramname"> <em>aFullKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in boolean&nbsp;</td>
          <td class="paramname"> <em>aCreate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in AString&nbsp;</td>
          <td class="paramname"> <em>aDatastoreImpl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the state object. 
<p>
Initialize the state object using a full key. This is required to use the object. If you do not initialize the state object, every other method or attribute call will fail.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>You must initialize the state object before using it. Failing to do so will make every method return a . </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aFullKey</em>&nbsp;</td><td>The desired full key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aCreate</em>&nbsp;</td><td>Boolean flag indicating wether to create the state object if it doesn't exist. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aDatastoreImpl</em>&nbsp;</td><td>The datastore type you wish to use. If an empty string is used, a default datastore implementation type is chosen for you. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Error or success code. </dd></dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>STATEOBJECT_CREATION_FAILED</em>&nbsp;</td><td>The creation of a new state object has failed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>STATEOBJECT_LOADING_FAILED</em>&nbsp;</td><td>The loading of a previously created state object has failed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>STATEOBJECT_CREATED</em>&nbsp;</td><td>The creation of a new state object has succeeded. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>STATEOBJECT_LOADED</em>&nbsp;</td><td>The loading of a previously created state object has succeeded. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="537d890e88f681e99b797d901b0aa9ef"></a><!-- doxytag: member="sbIStateObject::getFullKey" ref="537d890e88f681e99b797d901b0aa9ef" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AString sbIStateObject::getFullKey           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reconstitute the full key for this object. 
<p>
Reconstitute the full key for this object by walking back up the state object tree.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The full key for the state object. As an example: "metrics.playcount.mp3". </dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This can be lengthy operation, please avoid it if possible. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ad0b630e0221ab986989d501bfc24e69"></a><!-- doxytag: member="sbIStateObject::addObserver" ref="ad0b630e0221ab986989d501bfc24e69" args="(in nsIObserver aObserver)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sbIStateObject::addObserver           </td>
          <td>(</td>
          <td class="paramtype">in nsIObserver&nbsp;</td>
          <td class="paramname"> <em>aObserver</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add an observer to this status object. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aObserver</em>&nbsp;</td><td>The observer you wish to add. </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>To avoid nasty reference counting issues, please remove your observer when you are done using it. </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="interfacesb_i_state_object.html#2dcef7aecb0e0a5d0f82ceb8e987e79e" title="Remove an observer previously added to this status object.">removeObserver</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="2dcef7aecb0e0a5d0f82ceb8e987e79e"></a><!-- doxytag: member="sbIStateObject::removeObserver" ref="2dcef7aecb0e0a5d0f82ceb8e987e79e" args="(in nsIObserver aObserver)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sbIStateObject::removeObserver           </td>
          <td>(</td>
          <td class="paramtype">in nsIObserver&nbsp;</td>
          <td class="paramname"> <em>aObserver</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove an observer previously added to this status object. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aObserver</em>&nbsp;</td><td>The observer you wish to remove. </td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>If you've added an observer please remove it to avoid nasty reference counting issues.ooch </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="interfacesb_i_state_object.html#ad0b630e0221ab986989d501bfc24e69" title="Add an observer to this status object.">addObserver</a> </dd></dl>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="a014f9227ed4acb647072301515e100f"></a><!-- doxytag: member="sbIStateObject::key" ref="a014f9227ed4acb647072301515e100f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">attribute AString <a class="el" href="interfacesb_i_state_object.html#a014f9227ed4acb647072301515e100f">sbIStateObject::key</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The key for this state object. 
<p>
The key used to find the state object. The key present is only a partial or leaf key. The complete key is composed of the various state objects that build the tree of state objects. For example, if the complete key to an object is "metrics.playcount", two state objects are involved in constructing the tree. The root object would have the key "metrics" and contain a second 
<p>
Definition at line <a class="el" href="sb_i_state_object_8idl-source.html#l00071">71</a> of file <a class="el" href="sb_i_state_object_8idl-source.html">sbIStateObject.idl</a>.
</div>
</div><p>
<a class="anchor" name="ccdac5b6c31079813e7d1d0590ba4531"></a><!-- doxytag: member="sbIStateObject::value" ref="ccdac5b6c31079813e7d1d0590ba4531" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">attribute nsIWritableVariant <a class="el" href="interfacesb_i_state_object.html#ccdac5b6c31079813e7d1d0590ba4531">sbIStateObject::value</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The value of the state object. It is valid to not have a value set. 
<p>
The value can be any primitive type or complex type that implements nsISupports. Please note that it is completely valid for a state object to not have any value set. 
<p>
Definition at line <a class="el" href="sb_i_state_object_8idl-source.html#l00079">79</a> of file <a class="el" href="sb_i_state_object_8idl-source.html">sbIStateObject.idl</a>.
</div>
</div><p>
<hr>The documentation for this interface was generated from the following file:<ul>
<li>trunk/components/state/public/<a class="el" href="sb_i_state_object_8idl-source.html">sbIStateObject.idl</a></ul>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Aug 23 17:46:31 2007 for Songbird by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
